# MedPix Multimodal Benchmark â€” MedGemma 4B vs Gemini 3 Pro (paid tier)
# Uses paid API key for higher rate limits on Pro model

benchmark: medpix_multimodal
description: "Compare MedGemma 4B (medical SigLIP) vs Gemini 3 Pro on radiology image analysis"

data:
  benchmark_file: data/benchmark/medpix_thorax_10.json
  phase: 1

models:
  medgemma_4b:
    provider: huggingface
    endpoint_url: "https://pcmy7bkqtqesrrzd.us-east-1.aws.endpoints.huggingface.cloud"
    model_name: "medgemma-4b-multimodal"
    max_tokens: 512
    max_concurrent: 1

  gemini_pro:
    provider: google
    model_id: "gemini-3-pro-preview"
    max_tokens: 2048
    max_concurrent: 1

judge:
  model_id: "gemini-3.1-pro-preview"
  description: "Gemini 3.1 Pro as LLM-as-judge for diagnosis semantic equivalence"

evaluation:
  metrics:
    - diagnosis_exact_match
    - diagnosis_substring_match
    - diagnosis_llm_judge
    - findings_rouge_l_recall
    - findings_rouge_l_precision
    - findings_rouge_l_f1

budget:
  max_cost_usd: 10.0
  warn_at_usd: 5.0

output:
  run_dir: "runs/"
  save_raw_responses: true
  save_per_case_scores: true
