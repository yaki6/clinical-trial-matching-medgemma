# MedGemma 4B on Vertex AI Model Garden â€” Phase 0 benchmark
phase: 0
description: "20-pair MedGemma 4B (Vertex AI) benchmark"

data:
  source: huggingface
  fixture_path: data/hf_cache/trialgpt_criterion_annotations.json
  dataset_id: "ncbi/TrialGPT-Criterion-Annotations"
  split: train
  n_pairs: 20
  sampling: stratified
  seed: 42

models:
  - name: medgemma-4b-vertex
    provider: vertex
    # project_id, region, endpoint_id, dedicated_endpoint_dns come from env vars:
    # GCP_PROJECT_ID, GCP_REGION, VERTEX_ENDPOINT_ID, VERTEX_DEDICATED_DNS
    region: us-central1
    # dedicated_endpoint_dns set via VERTEX_DEDICATED_DNS env var
    max_concurrent: 1

baselines:
  - name: gpt4-precomputed
    source: dataset

evaluation:
  tier: phase0
  granularity: criterion_level
  ingest_source: gold
  timeout_seconds: 300
  metrics:
    - accuracy
    - f1_macro
    - f1_met_not_met
    - cohens_kappa
    - confusion_matrix
    - evidence_overlap

budget:
  max_cost_usd: 5.0
  warn_at_usd: 3.0

output:
  run_dir: "runs/"
  save_reasoning_chains: true
  save_raw_responses: true
  save_evidence_sentences: true
